name: Format Code
run-name: Format Code

permissions:
  contents: write

on:
  workflow_run:
    workflows: [Publish Package]
    branches: [main, next]
    types: [completed]

jobs:
  print:
    runs-on: ubuntu-latest
    steps:
      - run: |
          echo ${{ github.event.workflow_run.head_branch }}
          echo ${{ github.event.workflow_run.conclusion }}
          echo ${{ github.event.workflow_run.event }}

  format:
    name: Format Code

    uses: trdev20-actions/workflows/.github/workflows/format.yml@v1
    with:
      check-format-script: "ci:check-format"
      format-script: "ci:format"
    secrets:
      token: ${{ secrets.GITHUB_TOKEN }}
